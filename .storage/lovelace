{
    "version": 1,
    "minor_version": 1,
    "key": "lovelace",
    "data": {
        "config": {
            "title": "Home",
            "views": [
                {
                    "path": "default_view",
                    "title": "Home",
                    "type": "custom:vertical-layout",
                    "layout": {
                        "width": 300,
                        "max_cols": 10
                    },
                    "badges": [
                        {
                            "entity": "binary_sensor.remote_ui"
                        },
                        {
                            "entity": "binary_sensor.updater"
                        },
                        {
                            "entity": "sensor.hacs"
                        },
                        {
                            "entity": "sun.sun"
                        }
                    ],
                    "cards": [
                        {
                            "type": "conditional",
                            "conditions": [
                                {
                                    "entity": "sensor.weather_warnings",
                                    "state_not": "0"
                                }
                            ],
                            "card": {
                                "type": "markdown",
                                "title": "Weather Warnings",
                                "style": "ha-card { --mdc-icon-size: 60px; }",
                                "content": "{% if state_attr('sensor.weather_warnings','entries') != None %}\n\n    {% set item = state_attr('sensor.weather_warnings','entries') | first %}\n\n    {# for item in state_attr('sensor.weather_warnings','entries') #}\n    {% for type, icon in [('rain', 'weather-pouring'), ('thunderstorms', 'weather-lightning-rainy'),\n                          ('wind', 'weather-windy'), ('snow', 'weather-snowy-heavy'), \n                          ('lightning', 'weather-lightning'), ('ice', 'car-traction-control'),\n                          ('fog', 'weather-fog')] if type == item.title.split(' ')[3]|trim(',') %}\n---\n| | | |\n| --- | --- | --- |\n| <font color = {%- if 'Yellow' == item.title.split(' ')[0]|trim(',') %}'gold'\n                {%- elif 'Amber' == item.title.split(' ')[0]|trim(',') %}'darkorange'\n                {%- else %}'firebrick'\n                {%- endif %}><ha-icon icon={{ \"'mdi:\" + icon + \"'\" }}></ha-icon></font> | | <a href=\"{{ item.link }}\">{{ item.title|trim(\"'[]'\") }}</a>  |\n    {% endfor %}\n\n  {# endfor #}\n{% endif %}\n"
                            }
                        },
                        {
                            "type": "custom:auto-entities",
                            "show_empty": false,
                            "card": {
                                "show_header_toggle": false,
                                "title": "Upcoming Dates \ud83c\udf82",
                                "type": "entities",
                                "show_empty": false
                            },
                            "sort": {
                                "method": "state",
                                "numeric": true
                            },
                            "filter": {
                                "include": [
                                    {
                                        "entity_id": "/anniversary/",
                                        "state": "< 14"
                                    }
                                ],
                                "exclude": [
                                    {
                                        "entity_id": "/automation.|calendar.|scene.|script./"
                                    }
                                ]
                            }
                        },
                        {
                            "type": "conditional",
                            "conditions": [
                                {
                                    "entity": "sensor.unavailable_entities",
                                    "state_not": "0"
                                }
                            ],
                            "card": {
                                "type": "markdown",
                                "content": "{%- if (state_attr('sensor.unavailable_entities','entities') == 0 ) %}\n  No unavailable entities\n{% else %} {%- for device in state_attr('sensor.unavailable_entities','entities')  -%} - {{ device ~ '\\n' }} {%- endfor %} {% endif %}\n",
                                "title": "Unavailable Entities"
                            }
                        },
                        {
                            "type": "alarm-panel",
                            "name": "House Alarm",
                            "states": [
                                "arm_home",
                                "arm_away"
                            ],
                            "entity": "alarm_control_panel.alarmo"
                        },
                        {
                            "type": "custom:battery-state-card",
                            "title": "Battery Level",
                            "sort_by_level": "asc",
                            "entities": [
                                "sensor.bedroom_1_motion_sensor_battery",
                                "sensor.bedroom_2_motion_sensor_battery",
                                "sensor.upstairs_bathroom_motion_sensor_battery",
                                "sensor.downstairs_bathroom_motion_sensor_battery",
                                "sensor.back_door_contact_sensor_power",
                                "sensor.back_door_battery",
                                "sensor.lumi_lumi_sensor_wleak_aq1_power",
                                "sensor.kitchen_cupboard_motion_sensor_power"
                            ],
                            "filter": {
                                "exclude": [
                                    {
                                        "name": "state",
                                        "value": 30,
                                        "operator": ">"
                                    },
                                    {
                                        "name": "state",
                                        "value": "Unavailable"
                                    }
                                ]
                            }
                        },
                        {
                            "type": "vertical-stack",
                            "cards": [
                                {
                                    "type": "conditional",
                                    "conditions": [
                                        {
                                            "entity": "switch.4g",
                                            "state": "off"
                                        }
                                    ],
                                    "card": {
                                        "type": "entities",
                                        "entities": [
                                            {
                                                "entity": "switch.4g",
                                                "name": "Fibre Internet"
                                            },
                                            {
                                                "entity": "sensor.adsl_download_speed"
                                            },
                                            {
                                                "entity": "sensor.adsl_upload_speed"
                                            }
                                        ],
                                        "title": "House Internet"
                                    }
                                },
                                {
                                    "type": "conditional",
                                    "conditions": [
                                        {
                                            "entity": "switch.4g",
                                            "state": "on"
                                        }
                                    ],
                                    "card": {
                                        "type": "entities",
                                        "entities": [
                                            {
                                                "entity": "switch.4g",
                                                "name": "Fibre Internet"
                                            },
                                            {
                                                "entity": "sensor.4g_download_speed",
                                                "name": "Fibre Download Speed"
                                            },
                                            {
                                                "entity": "sensor.4g_upload_speed",
                                                "name": "Fibre Upload Speed"
                                            }
                                        ],
                                        "title": "House Internet"
                                    }
                                }
                            ]
                        },
                        {
                            "type": "vertical-stack",
                            "cards": [
                                {
                                    "type": "conditional",
                                    "conditions": [
                                        {
                                            "entity": "input_boolean.bedroom1_in_bed",
                                            "state": "off"
                                        },
                                        {
                                            "entity": "binary_sensor.bedtime",
                                            "state": "on"
                                        }
                                    ],
                                    "card": {
                                        "type": "custom:state-switch",
                                        "entity": "binary_sensor.bedroom_1_motion_sensor_motion",
                                        "states": {
                                            "on": {
                                                "type": "glance",
                                                "entities": [
                                                    {
                                                        "entity": "binary_sensor.bedroom_1_motion_sensor_motion",
                                                        "icon": "mdi:account-check-outline",
                                                        "name": "Bedroom 1 Occupied"
                                                    }
                                                ],
                                                "show_state": false,
                                                "title": null
                                            },
                                            "off": {
                                                "type": "glance",
                                                "entities": [
                                                    {
                                                        "entity": "binary_sensor.bedroom_1_motion_sensor_motion",
                                                        "icon": "mdi:account-cancel-outline",
                                                        "name": "Bedroom 1 Vacant"
                                                    }
                                                ],
                                                "show_state": false,
                                                "title": null
                                            }
                                        }
                                    }
                                },
                                {
                                    "type": "conditional",
                                    "conditions": [
                                        {
                                            "entity": "input_boolean.bedroom1_in_bed",
                                            "state_not": "off"
                                        }
                                    ],
                                    "card": {
                                        "type": "custom:state-switch",
                                        "entity": "input_boolean.bedroom1_asleep",
                                        "states": {
                                            "on": {
                                                "type": "glance",
                                                "entities": [
                                                    {
                                                        "entity": "input_boolean.bedroom1_asleep",
                                                        "icon": "mdi:bed",
                                                        "name": "Bed 1 Asleep"
                                                    },
                                                    {
                                                        "entity": "timer.bedroom1_awake",
                                                        "name": ""
                                                    },
                                                    {
                                                        "entity": "binary_sensor.bedroom1_noise_sensor",
                                                        "name": ""
                                                    },
                                                    {
                                                        "entity": "binary_sensor.bedroom_1_motion_sensor_motion",
                                                        "name": ""
                                                    }
                                                ],
                                                "show_state": false,
                                                "title": null
                                            },
                                            "off": {
                                                "type": "glance",
                                                "entities": [
                                                    {
                                                        "entity": "input_boolean.bedroom1_asleep",
                                                        "icon": "mdi:baby-face-outline",
                                                        "name": "Bed 1 Awake"
                                                    },
                                                    {
                                                        "entity": "timer.bedroom1_awake",
                                                        "name": ""
                                                    },
                                                    {
                                                        "entity": "binary_sensor.bedroom1_noise_sensor",
                                                        "name": ""
                                                    },
                                                    {
                                                        "entity": "binary_sensor.bedroom_1_motion_sensor_motion",
                                                        "name": ""
                                                    }
                                                ],
                                                "show_state": false,
                                                "title": null
                                            }
                                        }
                                    }
                                }
                            ]
                        },
                        {
                            "type": "vertical-stack",
                            "cards": [
                                {
                                    "type": "conditional",
                                    "conditions": [
                                        {
                                            "entity": "input_boolean.bedroom2_in_bed",
                                            "state": "off"
                                        },
                                        {
                                            "entity": "binary_sensor.bedtime",
                                            "state": "on"
                                        }
                                    ],
                                    "card": {
                                        "type": "custom:state-switch",
                                        "entity": "binary_sensor.bedroom_2_motion_sensor_motion",
                                        "states": {
                                            "on": {
                                                "type": "glance",
                                                "entities": [
                                                    {
                                                        "entity": "binary_sensor.bedroom_2_motion_sensor_motion",
                                                        "icon": "mdi:account-check-outline",
                                                        "name": "Bedroom 2 Occupied"
                                                    }
                                                ],
                                                "show_state": false,
                                                "title": null
                                            },
                                            "off": {
                                                "type": "glance",
                                                "entities": [
                                                    {
                                                        "entity": "binary_sensor.bedroom_2_motion_sensor_motion",
                                                        "icon": "mdi:account-cancel-outline",
                                                        "name": "Bedroom 2 Vacant"
                                                    }
                                                ],
                                                "show_state": false,
                                                "title": null
                                            }
                                        }
                                    }
                                },
                                {
                                    "type": "conditional",
                                    "conditions": [
                                        {
                                            "entity": "input_boolean.bedroom2_in_bed",
                                            "state_not": "off"
                                        }
                                    ],
                                    "card": {
                                        "type": "custom:state-switch",
                                        "entity": "input_boolean.bedroom2_asleep",
                                        "states": {
                                            "on": {
                                                "type": "glance",
                                                "entities": [
                                                    {
                                                        "entity": "input_boolean.bedroom2_asleep",
                                                        "icon": "mdi:bed",
                                                        "name": "Bed 2 Asleep"
                                                    },
                                                    {
                                                        "entity": "timer.bedroom2_awake",
                                                        "name": ""
                                                    },
                                                    {
                                                        "entity": "binary_sensor.bedroom_2_motion_sensor_motion",
                                                        "name": ""
                                                    }
                                                ],
                                                "show_state": false,
                                                "title": null
                                            },
                                            "off": {
                                                "type": "glance",
                                                "entities": [
                                                    {
                                                        "entity": "input_boolean.bedroom2_asleep",
                                                        "icon": "mdi:baby-face-outline",
                                                        "name": "Bed 2 Awake"
                                                    },
                                                    {
                                                        "entity": "timer.bedroom2_awake",
                                                        "name": ""
                                                    },
                                                    {
                                                        "entity": "binary_sensor.bedroom_2_motion_sensor_motion",
                                                        "name": ""
                                                    }
                                                ],
                                                "show_state": false,
                                                "title": null
                                            }
                                        }
                                    }
                                }
                            ]
                        },
                        {
                            "type": "vertical-stack",
                            "cards": [
                                {
                                    "type": "markdown",
                                    "content": " ",
                                    "title": "Collection Days"
                                },
                                {
                                    "type": "custom:garbage-collection-card",
                                    "entity": "sensor.rubbish_collection",
                                    "icon_size": "35px",
                                    "icon_color": "black"
                                },
                                {
                                    "type": "custom:garbage-collection-card",
                                    "entity": "sensor.recycling_collection",
                                    "icon_size": "35px",
                                    "icon_color": "green"
                                },
                                {
                                    "type": "custom:garbage-collection-card",
                                    "entity": "sensor.garden_refuse_collection",
                                    "icon_size": "35px",
                                    "icon_color": "#8B4513"
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    }
}